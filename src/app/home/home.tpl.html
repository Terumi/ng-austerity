<div class="hidden-md hidden-lg">
  <button class="btn btn-default"
          ng-click="draw()"
          ng-show="model.bag.length > 0 && model.candraw">
    Year {{ model.year }} - Draw
  </button>
  <button class="btn btn-default"
          ng-click="eoy()"
          ng-show="model.bag.length === 0 && model.current.length === 0">
    End of Year {{ model.year }}
  </button>
  <button class="btn btn-default"
          ng-click="resolve(event)"
          ng-repeat="(code, event) in events"
          title="{{ event.text }}"
          ng-show="model.current_str === code">
    {{ event.title }}
  </button>
  <button class="btn btn-default"
          ng-click="borrow()"
          ng-disabled="model.bag.length === 0">
    Borrow money
  </button>
  <button class="btn btn-default"
          ng-click="taxes()"
          ng-disabled="model.bag.length === 0">
    Raise taxes
  </button>
  <button class="btn btn-default"
          ng-click="payloan()"
          ng-disabled="model.bag.length === 0 || !canpayloan()">
    Pay loan
  </button>
</div>
<div class="col-md-12 hidden-xs hidden-sm">
  <div class="col-md-3">
    <div class="panel panel-default">
      <div class="panel-heading">
        Bag
      </div>
      <div class="panel-body">
        <div class="cube cube-{{ cube }}"
              ng-repeat="cube in model.bag track by $index"></div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">Current</div>
      <div class="panel-body">
        <div class="cube cube-{{ cube }}"
              ng-repeat="cube in model.current track by $index"></div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        Used
        <i class="fa fa-trash"
           title="Remove from here"
           ng-show="model.choose_remove.length > 0"
           ng-click="remove(choose_remove, 'used')"></i>
      </div>
      <div class="panel-body">
        <div class="cube cube-{{ cube }}"
              ng-repeat="cube in model.used track by $index"></div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        Treasury
        <i class="fa fa-trash"
           title="Remove from here"
           ng-show="model.choose_remove.length > 0"
           ng-click="remove(choose_remove, 'treasury')"></i>
      </div>
      <div class="panel-body">
        <div class="cube cube-{{ cube }}"
              ng-repeat="cube in model.treasury track by $index"></div>
      </div>
    </div>
  </div>
  <div class="col-md-3"
       ng-hide="model.gameover">
    <button class="btn btn-default col-sm-12"
            ng-click="draw()"
            ng-show="model.bag.length > 0 && model.candraw">
      Year {{ model.year }} - <b>Draw</b>
    </button>
    <button class="btn btn-default col-sm-12"
            ng-click="resolve(event)"
            ng-repeat="(code, event) in events"
            title="{{ event.text }}"
            ng-show="model.current_str === code">
      <b>{{ event.title }}</b>
    </button>
    <button class="btn btn-default col-sm-12"
            ng-click="eoy()"
            ng-show="model.bag.length === 0 && model.current.length === 0">
      <b>End of Year</b> {{ model.year }}
    </button>
    <button class="btn btn-default col-sm-12"
            ng-click="borrow()"
            ng-disabled="model.bag.length === 0">
      <b>Borrow money</b><hr />
      Add <span class="cube cube-y"></span><span class="cube cube-y"></span>
      to bag <span class="cube cube-b"></span>
    </button>
    <button class="btn btn-default col-sm-12"
            ng-click="taxes()"
            ng-disabled="model.bag.length === 0">
      <b>Raise taxes</b><hr />
      Add to bag <span class="cube cube-y"></span><span class="cube cube-r"></span>
    </button>
    <button class="btn btn-default col-sm-12"
            ng-click="payloan()"
            ng-disabled="model.bag.length === 0 || !canpayloan()">
      <b>Pay loan</b><hr />
      Remove <span class="cube cube-y"></span><span class="cube cube-y"></span><span class="cube cube-b"></span>
    </button>
  </div>
  <div class="col-md-3 text-center"
       ng-show="model.gameover">
    <h2 class="text-danger">Game Over</h2>
    <h4>{{ model.gameover }}</h4>
    Current year : {{ model.year }}
    <button class="btn btn-default col-sm-12"
            ng-click="newgame()"
            ng-disabled="model.bag.length === 0">
      <b>New game</b>
    </button>
  </div>
  <div class="col-md-4">
    <ul>
      <li ng-repeat="(code, event) in events"
          ng-class="{'text-primary': model.current_str === code,
                     'text-muted': model.current_str !== code}">
        <span ng-repeat="cube in event.cubes track by $index"
              class="cube cube-{{ cube }}"></span>
        {{ event.title }}:<br />
        <small ng-bind-html="event.text"></small>
      </li>
    </ul>
  </div>
  <div class="col-md-2">
    <table class="table rhs-tracks">
      <thead>
        <tr>
          <th>E</th>
          <th>PS</th>
          <th>W</th>
          <th>H</th>
          <th>P</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="line in scale_lines track by $index">
          <td ng-repeat="n in [model.employment,
                               model.public_safety,
                               model.wealth,
                               model.health,
                               model.popularity] track by $index"
              class="text-center"
              ng-class="{'activescale': n === line[0],
                         'text-danger': n === 0}">
            <b ng-show="n === line[0]">{{ n }}</b>
            <small ng-hide="n === line[0]">{{ line[1] }}</small>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="col-sm-12 col-md-6">
  <pre>{{ model.bag }}</pre>
  <pre>{{ model.current_str }}</pre>
  <pre>{{ model.used }}</pre>
  <pre>{{ model.treasury }}</pre>
  <span>Employment: {{ model.employment }}</span><br />
  <span>Public Safety: {{ model.public_safety }}</span><br />
  <span>Wealth: {{ model.wealth }}</span><br />
  <span>Health: {{ model.health }}</span><br />
  <span>Popularity: {{ model.popularity }}</span><br />
  <span>Private enterprise: {{ model.private_enterprise_fin }}, {{ model.private_enterprise_cuts }} cuts.</span><br />
  <span>National security: {{ model.national_security_fin }}, {{ model.national_security_cuts }} cuts.</span><br />
  <span>Social welfare: {{ model.social_welfare_fin }}, {{ model.social_welfare_cuts }} cuts.</span><br />
</div>
<div class="col-sm-12 col-md-6">
  <ul>
    <li ng-repeat="logline in model.log track by $index">{{ logline }}</li>
  </ul>
</div>
